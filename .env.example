# ================================================================
# ORDEFY - Environment Variables Template
# ================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env file to version control!
# ================================================================

# ================================================================
# DATABASE (Supabase)
# ================================================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ================================================================
# AUTHENTICATION
# ================================================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# ================================================================
# N8N WEBHOOKS (Order Automation)
# ================================================================
# Webhook URL to send new orders to n8n automation
N8N_WEBHOOK_URL_NEWORDER=https://your-n8n-instance.com/webhook/new-order

# ================================================================
# SHOPIFY INTEGRATION
# ================================================================
# Get these from Shopify Partner Dashboard
SHOPIFY_API_KEY=your-shopify-api-key
SHOPIFY_API_SECRET=your-shopify-api-secret
SHOPIFY_SCOPES=read_products,write_products,read_orders,write_orders,read_customers,write_inventory

# OAuth callback URL (must match Shopify app settings)
SHOPIFY_REDIRECT_URI=http://localhost:8080/shopify/oauth/callback

# Frontend Shopify API Key (Public - used by App Bridge in browser)
# This is the same as SHOPIFY_API_KEY above (it's a public key)
VITE_SHOPIFY_API_KEY=your-shopify-api-key

# ================================================================
# WHATSAPP VERIFICATION (Meta Business API)
# ================================================================
# Setup guide: See WHATSAPP_VERIFICATION_SETUP.md

# Phone Number ID from Meta WhatsApp Dashboard
WHATSAPP_PHONE_NUMBER_ID=

# Access Token from Meta Business (use permanent token for production)
WHATSAPP_ACCESS_TOKEN=

# Enable/Disable WhatsApp verification
# false = Demo mode (shows code in console, no actual WhatsApp sent)
# true = Production mode (sends real WhatsApp messages)
WHATSAPP_VERIFICATION_ENABLED=false

# ================================================================
# SERVER CONFIGURATION
# ================================================================
PORT=3001
NODE_ENV=development

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:8080

# ================================================================
# LOGGING CONFIGURATION
# ================================================================
# Enable verbose logging in production (default: false)
# Set to true to see INFO/DEBUG logs in production
VERBOSE_LOGS=false

# Enable JSON formatted logs (default: true in production)
# Set to true for structured logs (better for log aggregation tools like Datadog, CloudWatch)
JSON_LOGS=false

# ================================================================
# EMAIL SERVICE (Resend)
# ================================================================
# Get API key from: https://resend.com/api-keys
# Verify your domain first: https://resend.com/domains

# API Key (starts with re_)
RESEND_API_KEY=re_your_api_key_here

# From email (must be from verified domain)
# Format: "Name <email@domain.com>" or just "email@domain.com"
RESEND_FROM_EMAIL=Ordefy <noreply@ordefy.io>

# ================================================================
# STRIPE - PAYMENT & SUBSCRIPTIONS
# ================================================================
# Get these from Stripe Dashboard: https://dashboard.stripe.com/apikeys

# Public key (starts with pk_live_ or pk_test_)
STRIPE_PUBLIC_KEY=pk_test_your_public_key

# Secret key (starts with sk_live_ or sk_test_)
STRIPE_SECRET_KEY=sk_test_your_secret_key

# Webhook signing secret (starts with whsec_)
# Create webhook in Stripe Dashboard: https://dashboard.stripe.com/webhooks
# Endpoint URL: https://api.ordefy.io/api/billing/webhook
# Events to listen:
#   - checkout.session.completed
#   - customer.subscription.created
#   - customer.subscription.updated
#   - customer.subscription.deleted
#   - invoice.paid
#   - invoice.payment_failed
#   - customer.subscription.trial_will_end
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ================================================================
# STRIPE SETUP INSTRUCTIONS
# ================================================================
# 1. Create Stripe account at https://stripe.com
# 2. Get API keys from Dashboard > Developers > API keys
# 3. Create webhook endpoint in Dashboard > Developers > Webhooks
# 4. Point webhook to: https://your-api-domain/api/billing/webhook
# 5. Select events listed above
# 6. Copy the webhook signing secret
# 7. For testing, use Stripe CLI: stripe listen --forward-to localhost:3001/api/billing/webhook

# ================================================================
# OPTIONAL: FILE STORAGE (Future)
# ================================================================
# AWS S3 or similar for product images, documents
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_S3_BUCKET=
# AWS_REGION=

# ================================================================
# NOTES
# ================================================================
# - Always use strong, unique passwords and secrets
# - Rotate credentials regularly
# - Use different values for development and production
# - Never expose these values in client-side code
# - Keep .env file secure and backed up (encrypted)
